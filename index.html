<script id="vertex-shader" type="x-shader/x-vertex">
  attribute vec4 aVertex;
  attribute vec2 aTexCoord;

  uniform mat4 uModelMatrix;
  uniform mat4 uViewMatrix; 
  uniform mat4 uProjectionMatrix;
  uniform sampler2D uSampler;
  
  varying vec4 vColor;
  
  void main(){
    gl_Position = uProjectionMatrix*uViewMatrix*uModelMatrix*aVertex;
  
    vec4 color = vec4((aVertex.x+1.0)*.5,(aVertex.y+1.0)*.5,(aVertex.z+1.0)*.5,1.0);
    vec4 texColor =texture2D(uSampler, aTexCoord); 
    
    gl_PointSize = (1.0+(texColor.g+texColor.r)*2.0-gl_Position.z*1.5)*2.0;
    
    vColor = color*texColor;
  }
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
  precision mediump float;

  varying vec4 vColor;

  void main(){
    gl_FragColor = vColor;
  }
</script>

<div id="main">
<div id="canvas">
  <canvas id="gl-canvas" width="580" height="580">
      Oops ... your browser doesn't support the HTML5 canvas element
  </canvas>
</div>
<div class="container" id="partnum">
    <button type="button" id="5k">5k</button>
    <button type="button" id="50k">50k</button>
    <button type="button" id="500k">500k</button>
</div>

<img id="texImage0" crossOrigin="" src="https://s3.amazonaws.com/glowscript/textures/earth_texture.jpg" hidden></img>		
</div>